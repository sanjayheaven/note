# 2021 总结

整个 2021 年，还是在忙碌过程中度过，比起 2020 年刚毕业参加工作，工作闲暇时会更愿意选择停下来冷静思考。  
前端的领域发展很快，Vue3.0 发布，React 的发展，构建工具 Vite 的出现，以及下一代 web 框架，midway-js，modern-js 等等，似乎每个都能解决问题，但又是每一个都不能解决问题。  
上半年作为一个开发者，要直接对接需求，要写前端，也要写后端的 crud，也要自己部署服务器。不仅要快速完成任务，还要不断学习日益更新的技术，为了不让自己和社会脱节。然而每日的开发内容，大部分时间在不断的复制粘贴。其余时间，更多还是理清需求，解决问题。在这个过程，基本是一个人从需求理解到实际开发的包揽，独立的完成项目。

## 面临的问题/瓶颈

这个时候面对的几个问题，或者说是瓶颈，为什么说这些问题也是瓶颈，因为不突破这几个问题，会在未来可预知的看到问题到来。

1. 缺乏后端服务/模块的经验，完全根据前端需要什么数据来写后端。导致后端接口基本不可复用，耦合性太强，难以维护。
2. 一个人负责前端+后端同时开发，没有提高效率，前后端分离只是项目分离，人却没有分离
3. UI 不断的修改，都是反反复复的工作，工作验收的效率太低。

为了提高效率，不断尝试不断摸索。中间尝试过 graphql，但是效果还是不理想，还是需要写一大堆 schema，以及要写很多解析。 而且并没有很好的利用好前后端分离的思想。  
另一个就是门槛比较高，按照前后端分开招人的话，远比招一个前后端都要懂得人来的方便，项目上手也快。

下半年一开始，心里就有一些想法逐渐出现，想要能够同时写前后端，比如前后端都需要的数据验证，每次开发过程中都是前后端都写，但是写出的后端接口也只有自己用。  
所以 [Gganbu](https://github.com/sanjayheaven/Gganbu) 这个框架诞生，gganbu 取名也很简单，取自于 鱿鱼的游戏，意为，能够分享一起的朋友。目的就是能够前后端一体，共用配置。  
目前为止，使用这个框架快速开发的项目已有好几个。类型包括门户网站，h5 页面，后台管理系统，应用端(带 Bff 层)等。  
Gganbu 的出现，很好地解决了自己开发以来的面对的重要问题（问题 2）。 本质上是合并了，前端 api 请求层和后端路由层，路由默认采用文件路由。 前端能够直接调用后端的函数，进行开发，可以说整个工作效率提升 50%。

下半年开始，团队开始扩展，一起共事的人也多了。各个岗位的职责开始明确了很多。  
但是有些问题并没有解决，实际过程中，整体的效率明显降低很多，甚至还出现了多次项目过分延期的现象，我一直思考问题出在哪里，后来觉得应该是产品需求不到位，开发无法落实好具体的业务逻辑。

因为一直以来接触多的是 B 端，完成单个业务模块是比较简单的，但是做好整体却是比较复杂的，如何管理好各个分散的模块十分重要。
所以站在整个项目角度，想要做好一个项目，处理后端复杂的业务逻辑，带来的效益远比写好前端得到的效益大。 当然都重要，在优先条件下，我们应该业务优先。

所以针对面临的问题 1，总结了一个[面向服务的脚手架](https://github.com/sanjayheaven/boilerplate/tree/main/node-server), 暂且称为，**node-service**，主要特性是，分理处业务服务和其他技术细节，比如数据库，比如框架，每个服务之间达到自治的目的，同时提供插件机制，比如 ns-mongodb,ns-koa,等。让开发者只关注业务逻辑，同时默认要求业务处理过程采用 AOP 的思想。

## 关于业务和技术的思考

我始终保持着业务和技术两条路走。

当然不同角度，可能立场会有所变化，比如我是老板，或者是项目负责人，我不会在乎这个项目到底是 Vue2 或 Vue3 或 React 开发，我也不在乎开发使用 js 还是用 ts，我只要保证结果是好的，能够在 **保证一定范围影响内** 快速实现快速交付盈利。  
当然，说是业务和技术两条路走，我相信是一个优秀员工需要考虑的，首先我们不能光技术嗨，为了技术而做事，比如 Vue3 刚出，就上正式环境，结果发现很多周边都没有，那就是给自己挖坑，或者团队主要是 Vue，结果突然项目要求换成 React，那也是很无语。  
但是作为一个技术人，不断学习新技术，是必备的，就像对新知识的渴望一样。

## 做好平衡

如果在团队中或者在一个项目中，能够有决策作用，一直以来做好以下两个平衡就好，理解很简单做到很难。

- 做好前后端的平衡
- 做好技术和业务的平衡
- 做好开发团队内部的平衡

第一个问题，时常是需要开发负责人理清好业务模型根据经验判断出，如何用更好的方式处理。  
比如，当一个业务对数据一致性要求不高，可以下放给前端，在 bff 层完成即可，避免让前端等后端，后端等前端这种现象发生。  
第二个问题，我们技术人不能光琢磨技术，要时刻牢记技术是为业务服务，所以在很多决策的时候，不单单要提升技术实力，更多要更快更好地交付任务，保证质量和可持续性。
第三个问题，如何做好不同角色上的冲突，比如 UI 和前端的冲突，UI 画了图，前端再复现一遍，过程反反复复，又或者是前端和产品经理，等等。 目前没有很好的想法，只能先解决人吧。

## 未来

### web 方向的展望

- 低代码

现在的 web 开发，清晰可见，未来的 web 开发，尚需探索。  
目前来看我对现在的低代码并不是很看好，他解决不了客户细微的需求。另外低代码开发这种形式也并非是现在才出现。当然能解决大部分问题，也算是好，但是目前来看解决的领域有限。当然也是希望看到低代码的突破，能够彻底解放双手。

- 下一代框架

知乎很多都在问下一代框架，这个问题实在没法去想的。能想到的是，随着 serverless 的发展，前端将会变成一个大前端，将会完成基本的 crud，原先本由后端完成的任务。  
基本上，未来不会有这么多框架存在，会有个一个总的框架。类似于 egg 或者 midway 这种框架的框架将会出现很多，或者将技术细节作为插件，无论是 vue 还是 react 还是 koa 还是 expres 还是 mongodb 还是 mysql 都只是工具，作为插件来使用。  
这么看来，gganbu 也算是顺应潮流。

## 2022 努力方向

- 可能将重心慢慢偏向后端
- 希望通过面向服务，先完善 node-service 这样的框架。
- 重新学一学 go 或者其他的语言涉及到的一些设计思想
- 再考个雅思，考个 8877 吧。
- 2022 结束，到时候也算是工作 2.5 年，希望涉猎够广，能够独立开发，对项目有自己的见解和想法，之后再去做一些钻研的工作。
